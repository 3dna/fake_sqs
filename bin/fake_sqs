#!/usr/bin/env ruby

require 'fake_sqs'
require 'fake_sqs/web_interface'
require 'optparse'

options = {}

parser = OptionParser.new do |o|

  o.on "-p", "--port PORT", Integer, "Port to use (default: 4567)" do |port|
    FakeSQS::WebInterface.set :port, port
  end

  o.on "-o", "--bind HOST", "Host to bind to (default: 0.0.0.0)" do |bind|
    FakeSQS::WebInterface.set :bind, bind
  end

  o.on "-s", "--server SERVER", ['thin', 'mongrel', 'webrick'], "Server to use: thin, mongrel or webrick" do |server|
    FakeSQS::WebInterface.set :server, server
  end

end

parser.parse!

FakeSQS::WebInterface.run!
